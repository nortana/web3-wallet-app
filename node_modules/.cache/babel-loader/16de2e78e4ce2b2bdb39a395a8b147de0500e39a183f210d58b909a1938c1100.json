{"ast":null,"code":"import { ref } from \"vue\";\nimport { showDialog, showNotify } from \"vant\";\nimport * as bip39 from \"bip39\";\nimport { hdkey } from \"ethereumjs-wallet\";\nimport \"vant/es/dialog/style\";\nimport \"vant/es/notify/style\";\nexport default {\n  __name: 'Button',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const show = ref(false);\n    const password = ref(\"\");\n    const mnemonic = ref(\"\");\n    const mnemonic2 = ref(\"\");\n    const showMn = ref(false);\n    const showMnDialog = ref(false);\n    const createWallet = () => {\n      console.log(100);\n      show.value = true;\n    };\n    const confirmPassword = () => {\n      if (password.value === \"\") {\n        showNotify({\n          type: \"danger\",\n          message: \"请输入密码\"\n        });\n      } else {\n        mnemonic.value = bip39.generateMnemonic();\n        showMn.value = true;\n      }\n    };\n    const confrimSaveMnemonic = () => {\n      showMnDialog.value = true;\n    };\n    const confirmMn = async () => {\n      //console.log(mnemonic.value)\n      // console.log(mnemonic2.value)\n\n      showMn.value = false;\n      if (mnemonic.value === mnemonic2.value) {\n        console.log(\"成功\");\n        const seed = await bip39.mnemonicToSeed(mnemonic.value);\n        const hdwallet = hdkey.fromMasterSeed(seed);\n      }\n    };\n    const __returned__ = {\n      show,\n      password,\n      mnemonic,\n      mnemonic2,\n      showMn,\n      showMnDialog,\n      createWallet,\n      confirmPassword,\n      confrimSaveMnemonic,\n      confirmMn,\n      ref,\n      get showDialog() {\n        return showDialog;\n      },\n      get showNotify() {\n        return showNotify;\n      },\n      get bip39() {\n        return bip39;\n      },\n      get hdkey() {\n        return hdkey;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","showDialog","showNotify","bip39","hdkey","show","password","mnemonic","mnemonic2","showMn","showMnDialog","createWallet","console","log","value","confirmPassword","type","message","generateMnemonic","confrimSaveMnemonic","confirmMn","seed","mnemonicToSeed","hdwallet","fromMasterSeed"],"sources":["D:/a/wallet-demo/web3-wallet-app/src/components/Button.vue"],"sourcesContent":["<script setup>\r\nimport { ref } from \"vue\";\r\nimport { showDialog, showNotify } from \"vant\";\r\nimport * as bip39 from \"bip39\";\r\nimport { hdkey } from \"ethereumjs-wallet\";\r\nimport \"vant/es/dialog/style\";\r\nimport \"vant/es/notify/style\";\r\n\r\nconst show = ref(false);\r\nconst password = ref(\"\");\r\nconst mnemonic = ref(\"\");\r\nconst mnemonic2 = ref(\"\");\r\nconst showMn = ref(false);\r\nconst showMnDialog = ref(false);\r\n\r\nconst createWallet = () => {\r\n  console.log(100);\r\n  show.value = true;\r\n};\r\n\r\nconst confirmPassword = () => {\r\n  if (password.value === \"\") {\r\n    showNotify({ type: \"danger\", message: \"请输入密码\" });\r\n  } else {\r\n    mnemonic.value = bip39.generateMnemonic();\r\n    showMn.value = true\r\n  }\r\n};\r\n\r\nconst confrimSaveMnemonic = () => {\r\n    showMnDialog.value=true\r\n};\r\n\r\nconst confirmMn = async () =>{\r\n    //console.log(mnemonic.value)\r\n   // console.log(mnemonic2.value)\r\n\r\n    showMn.value = false;\r\n\r\n    if(mnemonic.value===mnemonic2.value){\r\n        console.log(\"成功\")\r\n        const seed = await bip39.mnemonicToSeed(mnemonic.value)\r\n        const hdwallet = hdkey.fromMasterSeed(seed);\r\n\r\n\r\n        \r\n\r\n    }\r\n\r\n\r\n\r\n\r\n} \r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n\r\n<template>\r\n  <van-space>\r\n    <van-button type=\"primary\" @click=\"createWallet\">创建钱包</van-button>\r\n    <van-button type=\"primary\">导入钱包</van-button>\r\n    <van-dialog\r\n      v-model:show=\"show\"\r\n      title=\"标题\"\r\n      show-cancel-button\r\n      @confirm=\"confirmPassword\"\r\n    >\r\n      <van-cell-group inset>\r\n        <van-field\r\n          v-model=\"password\"\r\n          type=\"password\"\r\n          label=\"密码\"\r\n          placeholder=\"请输入密码\"\r\n        />\r\n      </van-cell-group>\r\n    </van-dialog>\r\n  </van-space>\r\n  <template v-if=\"showMn\">\r\n    <p>{{ mnemonic }}</p>\r\n    <van-button type=\"primary\" size=\"mini\" @click=\"confrimSaveMnemonic\" >主要按钮</van-button>\r\n    speed three jeans attend alarm runway champion soccer ring turkey cabbage\r\n    crack\r\n  </template>\r\n\r\n      <van-dialog\r\n      v-model:show=\"showMnDialog\"\r\n      title=\"请输入助记词\"\r\n      show-cancel-button\r\n      @confirm=\"confirmPassword\"\r\n    >\r\n      <van-cell-group inset>\r\n        <van-field\r\n          v-model=\"mnemonic2\"\r\n          label=\"助记词\"\r\n          placeholder=\"请输入助记词\"\r\n        />\r\n      </van-cell-group>\r\n    </van-dialog>\r\n\r\n</template>\r\n\r\n<style>\r\np {\r\n  user-select: all;\r\n}\r\n</style>"],"mappings":"AACA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,UAAU,EAAEC,UAAU,QAAQ,MAAM;AAC7C,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,KAAK,QAAQ,mBAAmB;AACzC,OAAO,sBAAsB;AAC7B,OAAO,sBAAsB;;;;;;;IAE7B,MAAMC,IAAI,GAAGL,GAAG,CAAC,KAAK,CAAC;IACvB,MAAMM,QAAQ,GAAGN,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMO,QAAQ,GAAGP,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMQ,SAAS,GAAGR,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMS,MAAM,GAAGT,GAAG,CAAC,KAAK,CAAC;IACzB,MAAMU,YAAY,GAAGV,GAAG,CAAC,KAAK,CAAC;IAE/B,MAAMW,YAAY,GAAGA,CAAA,KAAM;MACzBC,OAAO,CAACC,GAAG,CAAC,GAAG,CAAC;MAChBR,IAAI,CAACS,KAAK,GAAG,IAAI;IACnB,CAAC;IAED,MAAMC,eAAe,GAAGA,CAAA,KAAM;MAC5B,IAAIT,QAAQ,CAACQ,KAAK,KAAK,EAAE,EAAE;QACzBZ,UAAU,CAAC;UAAEc,IAAI,EAAE,QAAQ;UAAEC,OAAO,EAAE;QAAQ,CAAC,CAAC;MAClD,CAAC,MAAM;QACLV,QAAQ,CAACO,KAAK,GAAGX,KAAK,CAACe,gBAAgB,CAAC,CAAC;QACzCT,MAAM,CAACK,KAAK,GAAG,IAAI;MACrB;IACF,CAAC;IAED,MAAMK,mBAAmB,GAAGA,CAAA,KAAM;MAC9BT,YAAY,CAACI,KAAK,GAAC,IAAI;IAC3B,CAAC;IAED,MAAMM,SAAS,GAAG,MAAAA,CAAA,KAAW;MACzB;MACD;;MAECX,MAAM,CAACK,KAAK,GAAG,KAAK;MAEpB,IAAGP,QAAQ,CAACO,KAAK,KAAGN,SAAS,CAACM,KAAK,EAAC;QAChCF,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;QACjB,MAAMQ,IAAI,GAAG,MAAMlB,KAAK,CAACmB,cAAc,CAACf,QAAQ,CAACO,KAAK,CAAC;QACvD,MAAMS,QAAQ,GAAGnB,KAAK,CAACoB,cAAc,CAACH,IAAI,CAAC;MAK/C;IAKJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}