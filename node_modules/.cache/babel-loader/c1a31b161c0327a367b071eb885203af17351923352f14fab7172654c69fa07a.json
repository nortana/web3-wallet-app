{"ast":null,"code":"import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, reactive, defineComponent } from \"vue\";\nimport { clamp, numericProp, preventDefault, createNamespace, makeRequiredProp, LONG_PRESS_START_TIME } from \"../utils/index.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nimport { raf, useEventListener, useRect } from \"@vant/use\";\nimport { Image } from \"../image/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nimport { SwipeItem } from \"../swipe-item/index.mjs\";\nconst getDistance = touches => Math.sqrt((touches[0].clientX - touches[1].clientX) ** 2 + (touches[0].clientY - touches[1].clientY) ** 2);\nconst getCenter = touches => ({\n  x: (touches[0].clientX + touches[1].clientX) / 2,\n  y: (touches[0].clientY + touches[1].clientY) / 2\n});\nconst bem = createNamespace(\"image-preview\")[1];\nconst longImageRatio = 2.6;\nconst imagePreviewItemProps = {\n  src: String,\n  show: Boolean,\n  active: Number,\n  minZoom: makeRequiredProp(numericProp),\n  maxZoom: makeRequiredProp(numericProp),\n  rootWidth: makeRequiredProp(Number),\n  rootHeight: makeRequiredProp(Number),\n  disableZoom: Boolean,\n  doubleScale: Boolean,\n  closeOnClickOverlay: Boolean\n};\nvar stdin_default = defineComponent({\n  props: imagePreviewItemProps,\n  emits: [\"scale\", \"close\", \"longPress\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const state = reactive({\n      scale: 1,\n      moveX: 0,\n      moveY: 0,\n      moving: false,\n      zooming: false,\n      initializing: false,\n      imageRatio: 0\n    });\n    const touch = useTouch();\n    const imageRef = ref();\n    const swipeItem = ref();\n    const vertical = ref(false);\n    const isLongImage = ref(false);\n    let initialMoveY = 0;\n    const imageStyle = computed(() => {\n      const {\n        scale,\n        moveX,\n        moveY,\n        moving,\n        zooming,\n        initializing\n      } = state;\n      const style = {\n        transitionDuration: zooming || moving || initializing ? \"0s\" : \".3s\"\n      };\n      if (scale !== 1 || isLongImage.value) {\n        style.transform = `matrix(${scale}, 0, 0, ${scale}, ${moveX}, ${moveY})`;\n      }\n      return style;\n    });\n    const maxMoveX = computed(() => {\n      if (state.imageRatio) {\n        const {\n          rootWidth,\n          rootHeight\n        } = props;\n        const displayWidth = vertical.value ? rootHeight / state.imageRatio : rootWidth;\n        return Math.max(0, (state.scale * displayWidth - rootWidth) / 2);\n      }\n      return 0;\n    });\n    const maxMoveY = computed(() => {\n      if (state.imageRatio) {\n        const {\n          rootWidth,\n          rootHeight\n        } = props;\n        const displayHeight = vertical.value ? rootHeight : rootWidth * state.imageRatio;\n        return Math.max(0, (state.scale * displayHeight - rootHeight) / 2);\n      }\n      return 0;\n    });\n    const setScale = (scale, center) => {\n      var _a;\n      scale = clamp(scale, +props.minZoom, +props.maxZoom + 1);\n      if (scale !== state.scale) {\n        const ratio = scale / state.scale;\n        state.scale = scale;\n        if (center) {\n          const imageRect = useRect((_a = imageRef.value) == null ? void 0 : _a.$el);\n          const origin = {\n            x: imageRect.width * 0.5,\n            y: imageRect.height * 0.5\n          };\n          const moveX = state.moveX - (center.x - imageRect.left - origin.x) * (ratio - 1);\n          const moveY = state.moveY - (center.y - imageRect.top - origin.y) * (ratio - 1);\n          state.moveX = clamp(moveX, -maxMoveX.value, maxMoveX.value);\n          state.moveY = clamp(moveY, -maxMoveY.value, maxMoveY.value);\n        } else {\n          state.moveX = 0;\n          state.moveY = isLongImage.value ? initialMoveY : 0;\n        }\n        emit(\"scale\", {\n          scale,\n          index: props.active\n        });\n      }\n    };\n    const resetScale = () => {\n      setScale(1);\n    };\n    const toggleScale = () => {\n      const scale = state.scale > 1 ? 1 : 2;\n      setScale(scale, scale === 2 || isLongImage.value ? {\n        x: touch.startX.value,\n        y: touch.startY.value\n      } : void 0);\n    };\n    let fingerNum;\n    let startMoveX;\n    let startMoveY;\n    let startScale;\n    let startDistance;\n    let lastCenter;\n    let doubleTapTimer;\n    let touchStartTime;\n    let isImageMoved = false;\n    const onTouchStart = event => {\n      const {\n        touches\n      } = event;\n      fingerNum = touches.length;\n      if (fingerNum === 2 && props.disableZoom) {\n        return;\n      }\n      const {\n        offsetX\n      } = touch;\n      touch.start(event);\n      startMoveX = state.moveX;\n      startMoveY = state.moveY;\n      touchStartTime = Date.now();\n      isImageMoved = false;\n      state.moving = fingerNum === 1 && (state.scale !== 1 || isLongImage.value);\n      state.zooming = fingerNum === 2 && !offsetX.value;\n      if (state.zooming) {\n        startScale = state.scale;\n        startDistance = getDistance(touches);\n      }\n    };\n    const onTouchMove = event => {\n      const {\n        touches\n      } = event;\n      touch.move(event);\n      if (state.moving) {\n        const {\n          deltaX,\n          deltaY\n        } = touch;\n        const moveX = deltaX.value + startMoveX;\n        const moveY = deltaY.value + startMoveY;\n        if ((moveX > maxMoveX.value || moveX < -maxMoveX.value) && !isImageMoved && touch.isHorizontal()) {\n          state.moving = false;\n          return;\n        }\n        isImageMoved = true;\n        preventDefault(event, true);\n        state.moveX = clamp(moveX, -maxMoveX.value, maxMoveX.value);\n        state.moveY = clamp(moveY, -maxMoveY.value, maxMoveY.value);\n      }\n      if (state.zooming) {\n        preventDefault(event, true);\n        if (touches.length === 2) {\n          const distance = getDistance(touches);\n          const scale = startScale * distance / startDistance;\n          lastCenter = getCenter(touches);\n          setScale(scale, lastCenter);\n        }\n      }\n    };\n    const checkClose = event => {\n      var _a;\n      const isClickOverlay = event.target === ((_a = swipeItem.value) == null ? void 0 : _a.$el);\n      if (!props.closeOnClickOverlay && isClickOverlay) return;\n      emit(\"close\");\n    };\n    const checkTap = event => {\n      if (fingerNum > 1) {\n        return;\n      }\n      const deltaTime = Date.now() - touchStartTime;\n      const TAP_TIME = 250;\n      if (touch.isTap.value) {\n        if (deltaTime < TAP_TIME) {\n          if (props.doubleScale) {\n            if (doubleTapTimer) {\n              clearTimeout(doubleTapTimer);\n              doubleTapTimer = null;\n              toggleScale();\n            } else {\n              doubleTapTimer = setTimeout(() => {\n                checkClose(event);\n                doubleTapTimer = null;\n              }, TAP_TIME);\n            }\n          } else {\n            checkClose(event);\n          }\n        } else if (deltaTime > LONG_PRESS_START_TIME) {\n          emit(\"longPress\");\n        }\n      }\n    };\n    const onTouchEnd = event => {\n      let stopPropagation = false;\n      if (state.moving || state.zooming) {\n        stopPropagation = true;\n        if (state.moving && startMoveX === state.moveX && startMoveY === state.moveY) {\n          stopPropagation = false;\n        }\n        if (!event.touches.length) {\n          if (state.zooming) {\n            state.moveX = clamp(state.moveX, -maxMoveX.value, maxMoveX.value);\n            state.moveY = clamp(state.moveY, -maxMoveY.value, maxMoveY.value);\n            state.zooming = false;\n          }\n          state.moving = false;\n          startMoveX = 0;\n          startMoveY = 0;\n          startScale = 1;\n          if (state.scale < 1) {\n            resetScale();\n          }\n          const maxZoom = +props.maxZoom;\n          if (state.scale > maxZoom) {\n            setScale(maxZoom, lastCenter);\n          }\n        }\n      }\n      preventDefault(event, stopPropagation);\n      checkTap(event);\n      touch.reset();\n    };\n    const resize = () => {\n      const {\n        rootWidth,\n        rootHeight\n      } = props;\n      const rootRatio = rootHeight / rootWidth;\n      const {\n        imageRatio\n      } = state;\n      vertical.value = state.imageRatio > rootRatio && imageRatio < longImageRatio;\n      isLongImage.value = state.imageRatio > rootRatio && imageRatio >= longImageRatio;\n      if (isLongImage.value) {\n        initialMoveY = (imageRatio * rootWidth - rootHeight) / 2;\n        state.moveY = initialMoveY;\n        state.initializing = true;\n        raf(() => {\n          state.initializing = false;\n        });\n      }\n      resetScale();\n    };\n    const onLoad = event => {\n      const {\n        naturalWidth,\n        naturalHeight\n      } = event.target;\n      state.imageRatio = naturalHeight / naturalWidth;\n      resize();\n    };\n    watch(() => props.active, resetScale);\n    watch(() => props.show, value => {\n      if (!value) {\n        resetScale();\n      }\n    });\n    watch(() => [props.rootWidth, props.rootHeight], resize);\n    useEventListener(\"touchmove\", onTouchMove, {\n      target: computed(() => {\n        var _a;\n        return (_a = swipeItem.value) == null ? void 0 : _a.$el;\n      })\n    });\n    useExpose({\n      resetScale\n    });\n    return () => {\n      const imageSlots = {\n        loading: () => _createVNode(Loading, {\n          \"type\": \"spinner\"\n        }, null)\n      };\n      return _createVNode(SwipeItem, {\n        \"ref\": swipeItem,\n        \"class\": bem(\"swipe-item\"),\n        \"onTouchstartPassive\": onTouchStart,\n        \"onTouchend\": onTouchEnd,\n        \"onTouchcancel\": onTouchEnd\n      }, {\n        default: () => [slots.image ? _createVNode(\"div\", {\n          \"class\": bem(\"image-wrap\")\n        }, [slots.image({\n          src: props.src\n        })]) : _createVNode(Image, {\n          \"ref\": imageRef,\n          \"src\": props.src,\n          \"fit\": \"contain\",\n          \"class\": bem(\"image\", {\n            vertical: vertical.value\n          }),\n          \"style\": imageStyle.value,\n          \"onLoad\": onLoad\n        }, imageSlots)]\n      });\n    };\n  }\n});\nexport { stdin_default as default };","map":{"version":3,"names":["createVNode","_createVNode","ref","watch","computed","reactive","defineComponent","clamp","numericProp","preventDefault","createNamespace","makeRequiredProp","LONG_PRESS_START_TIME","useExpose","useTouch","raf","useEventListener","useRect","Image","Loading","SwipeItem","getDistance","touches","Math","sqrt","clientX","clientY","getCenter","x","y","bem","longImageRatio","imagePreviewItemProps","src","String","show","Boolean","active","Number","minZoom","maxZoom","rootWidth","rootHeight","disableZoom","doubleScale","closeOnClickOverlay","stdin_default","props","emits","setup","emit","slots","state","scale","moveX","moveY","moving","zooming","initializing","imageRatio","touch","imageRef","swipeItem","vertical","isLongImage","initialMoveY","imageStyle","style","transitionDuration","value","transform","maxMoveX","displayWidth","max","maxMoveY","displayHeight","setScale","center","_a","ratio","imageRect","$el","origin","width","height","left","top","index","resetScale","toggleScale","startX","startY","fingerNum","startMoveX","startMoveY","startScale","startDistance","lastCenter","doubleTapTimer","touchStartTime","isImageMoved","onTouchStart","event","length","offsetX","start","Date","now","onTouchMove","move","deltaX","deltaY","isHorizontal","distance","checkClose","isClickOverlay","target","checkTap","deltaTime","TAP_TIME","isTap","clearTimeout","setTimeout","onTouchEnd","stopPropagation","reset","resize","rootRatio","onLoad","naturalWidth","naturalHeight","imageSlots","loading","default","image"],"sources":["D:/a/wallet-demo/web3-wallet-app/node_modules/vant/es/image-preview/ImagePreviewItem.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, reactive, defineComponent } from \"vue\";\nimport { clamp, numericProp, preventDefault, createNamespace, makeRequiredProp, LONG_PRESS_START_TIME } from \"../utils/index.mjs\";\nimport { useExpose } from \"../composables/use-expose.mjs\";\nimport { useTouch } from \"../composables/use-touch.mjs\";\nimport { raf, useEventListener, useRect } from \"@vant/use\";\nimport { Image } from \"../image/index.mjs\";\nimport { Loading } from \"../loading/index.mjs\";\nimport { SwipeItem } from \"../swipe-item/index.mjs\";\nconst getDistance = (touches) => Math.sqrt((touches[0].clientX - touches[1].clientX) ** 2 + (touches[0].clientY - touches[1].clientY) ** 2);\nconst getCenter = (touches) => ({\n  x: (touches[0].clientX + touches[1].clientX) / 2,\n  y: (touches[0].clientY + touches[1].clientY) / 2\n});\nconst bem = createNamespace(\"image-preview\")[1];\nconst longImageRatio = 2.6;\nconst imagePreviewItemProps = {\n  src: String,\n  show: Boolean,\n  active: Number,\n  minZoom: makeRequiredProp(numericProp),\n  maxZoom: makeRequiredProp(numericProp),\n  rootWidth: makeRequiredProp(Number),\n  rootHeight: makeRequiredProp(Number),\n  disableZoom: Boolean,\n  doubleScale: Boolean,\n  closeOnClickOverlay: Boolean\n};\nvar stdin_default = defineComponent({\n  props: imagePreviewItemProps,\n  emits: [\"scale\", \"close\", \"longPress\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const state = reactive({\n      scale: 1,\n      moveX: 0,\n      moveY: 0,\n      moving: false,\n      zooming: false,\n      initializing: false,\n      imageRatio: 0\n    });\n    const touch = useTouch();\n    const imageRef = ref();\n    const swipeItem = ref();\n    const vertical = ref(false);\n    const isLongImage = ref(false);\n    let initialMoveY = 0;\n    const imageStyle = computed(() => {\n      const {\n        scale,\n        moveX,\n        moveY,\n        moving,\n        zooming,\n        initializing\n      } = state;\n      const style = {\n        transitionDuration: zooming || moving || initializing ? \"0s\" : \".3s\"\n      };\n      if (scale !== 1 || isLongImage.value) {\n        style.transform = `matrix(${scale}, 0, 0, ${scale}, ${moveX}, ${moveY})`;\n      }\n      return style;\n    });\n    const maxMoveX = computed(() => {\n      if (state.imageRatio) {\n        const {\n          rootWidth,\n          rootHeight\n        } = props;\n        const displayWidth = vertical.value ? rootHeight / state.imageRatio : rootWidth;\n        return Math.max(0, (state.scale * displayWidth - rootWidth) / 2);\n      }\n      return 0;\n    });\n    const maxMoveY = computed(() => {\n      if (state.imageRatio) {\n        const {\n          rootWidth,\n          rootHeight\n        } = props;\n        const displayHeight = vertical.value ? rootHeight : rootWidth * state.imageRatio;\n        return Math.max(0, (state.scale * displayHeight - rootHeight) / 2);\n      }\n      return 0;\n    });\n    const setScale = (scale, center) => {\n      var _a;\n      scale = clamp(scale, +props.minZoom, +props.maxZoom + 1);\n      if (scale !== state.scale) {\n        const ratio = scale / state.scale;\n        state.scale = scale;\n        if (center) {\n          const imageRect = useRect((_a = imageRef.value) == null ? void 0 : _a.$el);\n          const origin = {\n            x: imageRect.width * 0.5,\n            y: imageRect.height * 0.5\n          };\n          const moveX = state.moveX - (center.x - imageRect.left - origin.x) * (ratio - 1);\n          const moveY = state.moveY - (center.y - imageRect.top - origin.y) * (ratio - 1);\n          state.moveX = clamp(moveX, -maxMoveX.value, maxMoveX.value);\n          state.moveY = clamp(moveY, -maxMoveY.value, maxMoveY.value);\n        } else {\n          state.moveX = 0;\n          state.moveY = isLongImage.value ? initialMoveY : 0;\n        }\n        emit(\"scale\", {\n          scale,\n          index: props.active\n        });\n      }\n    };\n    const resetScale = () => {\n      setScale(1);\n    };\n    const toggleScale = () => {\n      const scale = state.scale > 1 ? 1 : 2;\n      setScale(scale, scale === 2 || isLongImage.value ? {\n        x: touch.startX.value,\n        y: touch.startY.value\n      } : void 0);\n    };\n    let fingerNum;\n    let startMoveX;\n    let startMoveY;\n    let startScale;\n    let startDistance;\n    let lastCenter;\n    let doubleTapTimer;\n    let touchStartTime;\n    let isImageMoved = false;\n    const onTouchStart = (event) => {\n      const {\n        touches\n      } = event;\n      fingerNum = touches.length;\n      if (fingerNum === 2 && props.disableZoom) {\n        return;\n      }\n      const {\n        offsetX\n      } = touch;\n      touch.start(event);\n      startMoveX = state.moveX;\n      startMoveY = state.moveY;\n      touchStartTime = Date.now();\n      isImageMoved = false;\n      state.moving = fingerNum === 1 && (state.scale !== 1 || isLongImage.value);\n      state.zooming = fingerNum === 2 && !offsetX.value;\n      if (state.zooming) {\n        startScale = state.scale;\n        startDistance = getDistance(touches);\n      }\n    };\n    const onTouchMove = (event) => {\n      const {\n        touches\n      } = event;\n      touch.move(event);\n      if (state.moving) {\n        const {\n          deltaX,\n          deltaY\n        } = touch;\n        const moveX = deltaX.value + startMoveX;\n        const moveY = deltaY.value + startMoveY;\n        if ((moveX > maxMoveX.value || moveX < -maxMoveX.value) && !isImageMoved && touch.isHorizontal()) {\n          state.moving = false;\n          return;\n        }\n        isImageMoved = true;\n        preventDefault(event, true);\n        state.moveX = clamp(moveX, -maxMoveX.value, maxMoveX.value);\n        state.moveY = clamp(moveY, -maxMoveY.value, maxMoveY.value);\n      }\n      if (state.zooming) {\n        preventDefault(event, true);\n        if (touches.length === 2) {\n          const distance = getDistance(touches);\n          const scale = startScale * distance / startDistance;\n          lastCenter = getCenter(touches);\n          setScale(scale, lastCenter);\n        }\n      }\n    };\n    const checkClose = (event) => {\n      var _a;\n      const isClickOverlay = event.target === ((_a = swipeItem.value) == null ? void 0 : _a.$el);\n      if (!props.closeOnClickOverlay && isClickOverlay)\n        return;\n      emit(\"close\");\n    };\n    const checkTap = (event) => {\n      if (fingerNum > 1) {\n        return;\n      }\n      const deltaTime = Date.now() - touchStartTime;\n      const TAP_TIME = 250;\n      if (touch.isTap.value) {\n        if (deltaTime < TAP_TIME) {\n          if (props.doubleScale) {\n            if (doubleTapTimer) {\n              clearTimeout(doubleTapTimer);\n              doubleTapTimer = null;\n              toggleScale();\n            } else {\n              doubleTapTimer = setTimeout(() => {\n                checkClose(event);\n                doubleTapTimer = null;\n              }, TAP_TIME);\n            }\n          } else {\n            checkClose(event);\n          }\n        } else if (deltaTime > LONG_PRESS_START_TIME) {\n          emit(\"longPress\");\n        }\n      }\n    };\n    const onTouchEnd = (event) => {\n      let stopPropagation = false;\n      if (state.moving || state.zooming) {\n        stopPropagation = true;\n        if (state.moving && startMoveX === state.moveX && startMoveY === state.moveY) {\n          stopPropagation = false;\n        }\n        if (!event.touches.length) {\n          if (state.zooming) {\n            state.moveX = clamp(state.moveX, -maxMoveX.value, maxMoveX.value);\n            state.moveY = clamp(state.moveY, -maxMoveY.value, maxMoveY.value);\n            state.zooming = false;\n          }\n          state.moving = false;\n          startMoveX = 0;\n          startMoveY = 0;\n          startScale = 1;\n          if (state.scale < 1) {\n            resetScale();\n          }\n          const maxZoom = +props.maxZoom;\n          if (state.scale > maxZoom) {\n            setScale(maxZoom, lastCenter);\n          }\n        }\n      }\n      preventDefault(event, stopPropagation);\n      checkTap(event);\n      touch.reset();\n    };\n    const resize = () => {\n      const {\n        rootWidth,\n        rootHeight\n      } = props;\n      const rootRatio = rootHeight / rootWidth;\n      const {\n        imageRatio\n      } = state;\n      vertical.value = state.imageRatio > rootRatio && imageRatio < longImageRatio;\n      isLongImage.value = state.imageRatio > rootRatio && imageRatio >= longImageRatio;\n      if (isLongImage.value) {\n        initialMoveY = (imageRatio * rootWidth - rootHeight) / 2;\n        state.moveY = initialMoveY;\n        state.initializing = true;\n        raf(() => {\n          state.initializing = false;\n        });\n      }\n      resetScale();\n    };\n    const onLoad = (event) => {\n      const {\n        naturalWidth,\n        naturalHeight\n      } = event.target;\n      state.imageRatio = naturalHeight / naturalWidth;\n      resize();\n    };\n    watch(() => props.active, resetScale);\n    watch(() => props.show, (value) => {\n      if (!value) {\n        resetScale();\n      }\n    });\n    watch(() => [props.rootWidth, props.rootHeight], resize);\n    useEventListener(\"touchmove\", onTouchMove, {\n      target: computed(() => {\n        var _a;\n        return (_a = swipeItem.value) == null ? void 0 : _a.$el;\n      })\n    });\n    useExpose({\n      resetScale\n    });\n    return () => {\n      const imageSlots = {\n        loading: () => _createVNode(Loading, {\n          \"type\": \"spinner\"\n        }, null)\n      };\n      return _createVNode(SwipeItem, {\n        \"ref\": swipeItem,\n        \"class\": bem(\"swipe-item\"),\n        \"onTouchstartPassive\": onTouchStart,\n        \"onTouchend\": onTouchEnd,\n        \"onTouchcancel\": onTouchEnd\n      }, {\n        default: () => [slots.image ? _createVNode(\"div\", {\n          \"class\": bem(\"image-wrap\")\n        }, [slots.image({\n          src: props.src\n        })]) : _createVNode(Image, {\n          \"ref\": imageRef,\n          \"src\": props.src,\n          \"fit\": \"contain\",\n          \"class\": bem(\"image\", {\n            vertical: vertical.value\n          }),\n          \"style\": imageStyle.value,\n          \"onLoad\": onLoad\n        }, imageSlots)]\n      });\n    };\n  }\n});\nexport {\n  stdin_default as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}