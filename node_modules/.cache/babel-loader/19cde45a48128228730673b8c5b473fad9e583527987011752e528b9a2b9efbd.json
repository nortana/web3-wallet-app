{"ast":null,"code":"import { ref, compile, computed } from \"vue\";\nimport Web3 from \"web3\";\nexport default {\n  __name: 'AccountList',\n  props: [\"wallet-info\"],\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const web3 = new Web3();\n    const props = __props;\n    const walletInfoAddressFilter = computed(() => {\n      props.walletInfo.forEach((item, index) => {\n        const adr = item.address;\n        const head = item.address.slice(0, 8);\n        const tail = item.address.slice(item.address.length - 8);\n        item.address = head + \"....\" + tail;\n\n        //根据地址获取余额\n        web3.eth.getBalance(adr).then(ret => {\n          item.balance = web3.utils.fromWei(ret, 'ether');\n        });\n      });\n      return props.walletInfo;\n    });\n    const __returned__ = {\n      web3,\n      props,\n      walletInfoAddressFilter,\n      ref,\n      compile,\n      computed,\n      get Web3() {\n        return Web3;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","compile","computed","Web3","web3","props","__props","walletInfoAddressFilter","walletInfo","forEach","item","index","adr","address","head","slice","tail","length","eth","getBalance","then","ret","balance","utils","fromWei"],"sources":["D:/a/wallet-demo/web3-wallet-app/src/components/AccountList.vue"],"sourcesContent":["<script setup>\r\nimport { ref, defineProps, compile, computed } from \"vue\";\r\nimport Web3 from \"web3\"\r\n\r\nconst web3 = new Web3();\r\nconst props = defineProps([\"wallet-info\"]);\r\n\r\nconst walletInfoAddressFilter = computed(() => {\r\n  props.walletInfo.forEach((item, index) => {\r\n    const adr = item.address\r\n    const head = item.address.slice(0, 8);\r\n    const tail = item.address.slice(item.address.length - 8);\r\n    item.address = head + \"....\" + tail;\r\n    \r\n    //根据地址获取余额\r\n    web3.eth.getBalance(adr).then((ret)=>{\r\n item.balance = web3.utils.fromWei(ret,'ether')\r\n    })\r\n   \r\n  });\r\n  return props.walletInfo;\r\n});\r\n</script>\r\n\r\n<template>\r\n  <van-cell\r\n    :title=\"item.address\"\r\n    icon=\"user-o\"\r\n    v-for=\"(item, index) in walletInfoAddressFilter\"\r\n    :key=\"index\"\r\n  >\r\n    <!-- 使用 right-icon 插槽来自定义右侧图标 -->\r\n    <template #right-icon>\r\n      <van-button type=\"primary\" size=\"small\">{{item.balance}}</van-button>\r\n    </template>\r\n  </van-cell>\r\n</template>\r\n\r\n<style>\r\n</style>"],"mappings":"AACA,SAASA,GAAgB,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,KAAK;AACzD,OAAOC,IAAI,MAAM,MAAM;;;;;;;;IAEvB,MAAMC,IAAI,GAAG,IAAID,IAAI,CAAC,CAAC;IACvB,MAAME,KAAK,GAAGC,OAA4B;IAE1C,MAAMC,uBAAuB,GAAGL,QAAQ,CAAC,MAAM;MAC7CG,KAAK,CAACG,UAAU,CAACC,OAAO,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;QACxC,MAAMC,GAAG,GAAGF,IAAI,CAACG,OAAO;QACxB,MAAMC,IAAI,GAAGJ,IAAI,CAACG,OAAO,CAACE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;QACrC,MAAMC,IAAI,GAAGN,IAAI,CAACG,OAAO,CAACE,KAAK,CAACL,IAAI,CAACG,OAAO,CAACI,MAAM,GAAG,CAAC,CAAC;QACxDP,IAAI,CAACG,OAAO,GAAGC,IAAI,GAAG,MAAM,GAAGE,IAAI;;QAEnC;QACAZ,IAAI,CAACc,GAAG,CAACC,UAAU,CAACP,GAAG,CAAC,CAACQ,IAAI,CAAEC,GAAG,IAAG;UACxCX,IAAI,CAACY,OAAO,GAAGlB,IAAI,CAACmB,KAAK,CAACC,OAAO,CAACH,GAAG,EAAC,OAAO,CAAC;QAC3C,CAAC,CAAC;MAEJ,CAAC,CAAC;MACF,OAAOhB,KAAK,CAACG,UAAU;IACzB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}